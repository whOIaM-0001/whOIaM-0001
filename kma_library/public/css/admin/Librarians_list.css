/* Module Librarians - giữ layout như Books + popup hướng dẫn password */
:root {
    --bg: #fff;
    --fg: #111827;
    --muted: #6b7280;
    --line: #e5e7eb;
    --tint: #eef2ff;
    --tint-2: #f5f7ff;
    --pri: #5b75e5;
    --pri-600: #4a63d6;
    --danger: #dc2626;
    --ok: #16a34a;
}

* {
    box-sizing: border-box
}

.mod-wrap {
    padding: 8px 12px
}

.mod-title {
    margin: 8px 4px 10px 4px;
    font-size: 26px;
    color: #263a6b
}

.panel {
    border: 1px solid var(--line);
    border-radius: 12px;
    background: #eef3ff30
}

.panel-head {
    display: grid;
    grid-template-areas:
        "title actions"
        "tools tools";
    grid-template-columns: 1fr auto;
    row-gap: 10px;
    column-gap: 12px;
    align-items: center;
    padding: 10px 12px;
    background: #eef3ff50;
    border-bottom: 1px solid var(--line);
}

.panel-title {
    grid-area: title;
    margin: 0;
    font-size: 18px;
    color: #263a6b
}

.panel-actions {
    grid-area: actions;
    display: flex;
    align-items: center;
    gap: 10px;
    justify-self: end
}

.panel-tools {
    grid-area: tools;
    display: flex;
    align-items: center;
    gap: 10px;
    justify-content: flex-end
}

.icon-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border: 1px solid var(--line);
    border-radius: 10px;
    background: #fff;
    color: #111;
    cursor: pointer;
    box-shadow: 0 8px 18px rgba(31, 41, 55, .08);
}

.icon-btn:hover {
    background: var(--tint-2)
}

.btn {
    border: 1px solid var(--line);
    background: #fff;
    border-radius: 10px;
    padding: 8px 12px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 8px 18px rgba(31, 41, 55, .08);
}

.btn:hover {
    background: var(--tint-2)
}

.btn.ghost {
    background: #fff
}

.btn.primary {
    background: var(--pri);
    border-color: var(--pri);
    color: #fff;
    box-shadow: none
}

.btn.primary:hover {
    background: var(--pri-600)
}

.btn.mini {
    height: 34px;
    padding: 6px 10px
}

.search {
    position: relative
}

.search i {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--muted)
}

.search input {
    padding: 8px 10px 8px 32px;
    border: 1px solid var(--line);
    border-radius: 10px;
    background: #fff;
    min-width: 260px
}

.field {
    display: flex;
    flex-direction: column;
    font-size: 12px;
    color: var(--muted)
}

.field.mini select {
    padding: 8px 10px;
    border: 1px solid var(--line);
    border-radius: 10px;
    background: #fff;
    min-width: 90px
}

.panel-body {
    padding: 8px 10px
}

.grid {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
    border: 1px solid var(--line);
    border-radius: 12px;
    overflow: visible
}

.grid thead th {
    background: #f0f3ff;
    border-bottom: 1px solid var(--line);
    text-align: left;
    padding: 12px;
    white-space: nowrap
}

.grid tbody td {
    border-bottom: 1px solid var(--line);
    padding: 14px
}

.grid tbody tr:hover {
    background: #f7f9ff
}

.grid .act {
    width: 56px;
    text-align: center
}

.th-sort {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: transparent;
    border: none;
    padding: 0;
    margin: 0;
    font: inherit;
    color: inherit;
    cursor: pointer
}

.th-sort .arrow {
    font-size: 12px;
    color: var(--muted)
}

.dots-btn {
    background: transparent;
    border: none;
    padding: 4px 6px;
    border-radius: 8px;
    cursor: pointer
}

.dots-btn .dots {
    display: inline-block;
    font-size: 18px;
    line-height: 1;
    color: #374151
}

.dots-btn:hover {
    background: #eef2ff
}

.tag.role {
    display: inline-block;
    border-radius: 999px;
    padding: 2px 8px;
    font-size: 12px;
    border: 1px solid #bfdbfe;
    color: #1d4ed8;
    background: #eff6ff
}

.panel-foot {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 12px 6px;
    color: var(--muted)
}

.pager {
    display: flex;
    align-items: center;
    gap: 6px
}

.page-btn {
    min-width: 34px;
    height: 34px;
    border: 1px solid var(--line);
    background: #fff;
    color: #111;
    border-radius: 10px;
    cursor: pointer
}

.page-btn:hover {
    background: #f5f7ff
}

.page-btn.active {
    background: #5b75e5;
    border-color: #5b75e5;
    color: #fff
}

.empty {
    color: var(--muted);
    text-align: center
}

/* Skeleton */
.skeleton .sk {
    display: inline-block;
    height: 12px;
    width: 80px;
    border-radius: 6px;
    background: linear-gradient(90deg, #f2f3f5, #eceff3, #f2f3f5);
    background-size: 200% 100%;
    animation: sh 1.2s infinite
}

.skeleton .sk.w-70 {
    width: 70%
}

.skeleton .sk.w-60 {
    width: 60%
}

.skeleton .sk.w-40 {
    width: 40%
}

.skeleton .sk.w-20 {
    width: 20%
}

.skeleton .sk-id {
    width: 52px
}

@keyframes sh {
    0% {
        background-position: 200% 0
    }

    100% {
        background-position: -200% 0
    }
}

/* Popup hướng dẫn Password (portal fixed) */
.ll-pass-pop {
    position: fixed;
    z-index: 10120;
    left: 0;
    top: 0;
    background: #fff;
    border: 1px solid var(--line);
    border-radius: 10px;
    box-shadow: 0 16px 40px rgba(0, 0, 0, .18);
    padding: 10px 12px;
    width: 260px;
}

.ll-pass-pop .title {
    font-weight: 600;
    margin-bottom: 6px
}

.ll-pass-pop ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: 6px
}

.ll-pass-pop li {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px
}

.ll-pass-pop li .mark {
    width: 16px;
    text-align: center
}

.ll-pass-pop li.ok {
    color: var(--ok)
}

.ll-pass-pop li.ng {
    color: #b91c1c
}

.ll-pass-arrow {
    position: fixed;
    z-index: 10119;
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 8px solid #fff;
    filter: drop-shadow(0 2px 1px rgba(0, 0, 0, .1));
}

/* Modal namespace ll- */
.ll-modal-wrap {
    position: fixed;
    inset: 0;
    z-index: 10100
}

.ll-modal-mask {
    position: absolute;
    inset: 0;
    background: rgba(17, 24, 39, .45)
}

.ll-modal {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: min(520px, 92vw);
    background: #fff;
    border-radius: 12px;
    border: 1px solid var(--line);
    box-shadow: 0 20px 50px rgba(0, 0, 0, .2);
    overflow: hidden;
}

.ll-modal-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 14px;
    border-bottom: 1px solid var(--line)
}

.ll-modal-x {
    border: none;
    background: transparent;
    font-size: 20px;
    cursor: pointer
}

.ll-modal-body {
    padding: 12px 14px
}

.ll-modal-foot {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    padding: 10px 14px;
    border-top: 1px solid var(--line)
}

.form .frow {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 10px
}

.form .frow>span {
    font-size: 12px;
    color: var(--muted)
}

.form input,
.form select {
    border: 1px solid var(--line);
    border-radius: 10px;
    padding: 8px 10px
}

.note {
    margin-top: 4px
}

.muted {
    color: var(--muted)
}

/* Toast */
#lib-toast.toast {
    position: fixed;
    right: 16px;
    bottom: 16px;
    background: #111827;
    color: #fff;
    padding: 10px 12px;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, .25);
    z-index: 10110
}

#lib-toast.toast.ok {
    background: #16a34a
}

#lib-toast.toast.warn {
    background: #d97706
}

#lib-toast.toast.danger {
    background: #dc2626
}

.ll-popover{
  position:fixed; left:0; top:0;
  background:#fff; border:1px solid var(--line); border-radius:10px; min-width:180px;
  box-shadow:0 20px 50px rgba(0,0,0,.18); padding:6px;
  z-index:2147483000; /* siêu cao để nổi trên mọi thứ */
  visibility:visible; opacity:1; transition:opacity .08s ease;
}
.ll-item{
  display:flex; align-items:center; gap:8px; width:100%;
  background:transparent; border:none; cursor:pointer; text-align:left;
  padding:8px 10px; border-radius:8px; color:#111;
}
.ll-item:hover{ background:#f5f7ff }
.ll-item.danger{ color:var(--danger) }
/* mũi tên tái dùng lớp, cũng cho z-index cao */
.ll-pass-arrow{ z-index:2147483000 }

@media (max-width: 860px) {
    .grid thead th:nth-child(3) {
        display: none
    }

    .grid tbody td:nth-child(3) {
        display: none
    }

    /* ẩn Email khi hẹp */
}