:root {
  --sbw: 260px;
  --sbw-mini: 76px;
  --sb-bg: #ffffff;
  --sb-border: #e9eef5;
  --sb-text: #334155;
  /* slate-700 */
  --sb-muted: #64748b;
  /* slate-500 */
  --sb-hover: #f8fafc;
  /* slate-50 */
  --sb-pill: #f1f5f9;
  /* slate-100 */
  --sb-brand: #2563eb;
  /* blue-600 */
  --ring: 0 1px 2px rgba(15, 23, 42, .06), 0 8px 16px -8px rgba(15, 23, 42, .12);
  --ring-soft: 0 1px 1px rgba(15, 23, 42, .06), 0 6px 10px -6px rgba(15, 23, 42, .10);
}

/* ============ Sidebar base ============ */
.app .sidebar {
  position: sticky;
  top: 0;
  height: 100vh;
  background: var(--sb-bg);
  border-right: 1px solid var(--sb-border);
  width: var(--sbw);
  transition: width .24s cubic-bezier(.2, .8, .2, 1), box-shadow .24s;
  overflow: hidden;
  will-change: width;
  z-index: 1000;
}

/* Mini state (icon-only) */
.app .sidebar.collapsed:not(.expand-temp) {
  width: var(--sbw-mini);
  box-shadow: none;
}

/* Hover expand when not locked */
.app .sidebar.collapsed.expand-temp {
  width: var(--sbw);
  box-shadow: var(--ring-soft);
}

/* Brand */
.app .sidebar .brand {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 14px 14px;
}

.app .sidebar .brand .logo {
  width: 34px;
  height: 34px;
  border-radius: 10px;
  background: linear-gradient(135deg, #60a5fa, #7c3aed);
  box-shadow: var(--ring-soft);
}

.app .sidebar .brand .site-name {
  font-weight: 700;
  color: var(--sb-text);
  letter-spacing: .2px;
  white-space: nowrap;
  transition: opacity .18s, transform .18s;
}

.app .sidebar .brand .hamburger {
  margin-left: auto;
  border: 0;
  background: transparent;
  color: var(--sb-muted);
  font-size: 20px;
  cursor: pointer;
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: grid;
  place-items: center;
}

.app .sidebar .brand .hamburger:hover {
  background: var(--sb-pill);
  color: var(--sb-text);
}

/* Hide site-name when mini */
.app .sidebar.collapsed:not(.expand-temp) .brand .site-name {
  opacity: 0;
  transform: translateX(-6px);
  pointer-events: none;
  visibility: hidden;
}

/* ============ Menu ============ */
.app .sidebar nav.menu {
  height: calc(100vh - 62px);
  overflow-y: auto;
  padding: 8px 10px 16px 10px;
}

.app .sidebar nav.menu .menu-section {
  color: var(--sb-muted);
  font-size: 11px;
  letter-spacing: .08em;
  font-weight: 700;
  padding: 12px 10px 6px 10px;
  text-transform: uppercase;
  user-select: none;
}

/* When mini (not hover), hide text sections */
.app .sidebar.collapsed:not(.expand-temp) nav.menu .menu-section {
  opacity: 0;
  transform: translateX(-6px);
  visibility: hidden;
  height: 0;
  padding-top: 0;
  padding-bottom: 0;
}

/* Menu link */
.app .sidebar nav.menu a.menu-link {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 10px;
  border-radius: 12px;
  color: var(--sb-text);
  text-decoration: none;
  transition: background-color .16s, color .16s, padding .24s;
}

/* Icon pill (first icon inside link) */
.app .sidebar nav.menu a.menu-link>i:first-child {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  display: grid;
  place-items: center;
  background: var(--sb-pill);
  color: #0f172a;
  font-size: 18px;
  transition: background-color .16s, color .16s, transform .16s;
  box-shadow: inset 0 0 0 1px rgba(15, 23, 42, .04);
}

/* Label and chevron */
.app .sidebar nav.menu a.menu-link .label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 500;
  transition: opacity .18s, transform .18s;
}

.app .sidebar nav.menu a.menu-link .chev {
  margin-left: auto;
  color: var(--sb-muted);
  font-size: 18px;
  transition: transform .18s, opacity .18s;
}

/* Hover */
.app .sidebar nav.menu a.menu-link:hover {
  background: var(--sb-hover);
}

.app .sidebar nav.menu a.menu-link:hover>i:first-child {
  background: #eaf1ff;
  color: var(--sb-brand);
  transform: translateY(-1px);
}

/* Mini state: center the icon, hide label & chevron */
.app .sidebar.collapsed:not(.expand-temp) nav.menu a.menu-link {
  justify-content: center;
  gap: 0;
  padding: 8px 0;
}

.app .sidebar.collapsed:not(.expand-temp) nav.menu a.menu-link .label,
.app .sidebar.collapsed:not(.expand-temp) nav.menu a.menu-link .chev {
  opacity: 0;
  transform: translateX(-8px);
  pointer-events: none;
  visibility: hidden;
  width: 0;
}

/* Active bullet (from your index.js toggling) */
.app .sidebar nav.menu .bullet.active,
.app .sidebar nav.menu li.open>a.menu-link {
  background: var(--sb-hover);
}

.app .sidebar nav.menu li.open>a.menu-link>i:first-child {
  background: #eaf1ff;
  color: var(--sb-brand);
}

/* Submenu */
.app .sidebar nav.menu ul.sub {
  list-style: none;
  margin: 4px 0 8px 0;
  padding-left: 48px;
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: max-height .24s ease, opacity .2s ease, padding .2s ease;
}

.app .sidebar nav.menu li.has-children.open>ul.sub {
  max-height: 900px;
  opacity: 1;
  padding-left: 48px;
}

/* Mini state: hide submenu completely unless expanded by hover */
.app .sidebar.collapsed:not(.expand-temp) nav.menu ul.sub {
  display: none !important;
}

/* Submenu items (bullets) */
.app .sidebar nav.menu ul.sub>li.bullet {
  padding: 8px 10px;
  margin: 2px 0;
  border-radius: 10px;
  color: var(--sb-muted);
  cursor: pointer;
  transition: background-color .12s, color .12s, transform .12s;
}

.app .sidebar nav.menu ul.sub>li.bullet:hover {
  background: var(--sb-hover);
  color: var(--sb-text);
  transform: translateX(2px);
}

/* Chevron rotate when open */
.app .sidebar nav.menu li.has-children.open>a.menu-link .chev {
  transform: rotate(180deg);
}

/* Dividers between groups (optional, subtle) */
.app .sidebar nav.menu hr {
  border: 0;
  height: 1px;
  background: var(--sb-border);
  margin: 10px 8px;
}

/* Scrollbar subtle */
.app .sidebar nav.menu::-webkit-scrollbar {
  width: 8px;
}

.app .sidebar nav.menu::-webkit-scrollbar-thumb {
  background: #e5eaf1;
  border-radius: 8px;
}

.app .sidebar nav.menu:hover::-webkit-scrollbar-thumb {
  background: #d9e0ea;
}